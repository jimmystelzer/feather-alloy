<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Feather Alloy</title>
    <link rel="stylesheet" href="styles.css">
    <script type="module">
        // Garantir que a API do Tauri seja carregada
        if (!window.__TAURI__) {
            console.log('Carregando API do Tauri...');
        }
    </script>
</head>
<body>
    <!-- Sidebar Esquerda -->
    <aside class="sidebar">
        <div class="profiles-container" id="profilesContainer">
            <!-- Perfis serão renderizados dinamicamente via JavaScript -->
        </div>
        
        <!-- Botão Adicionar -->
        <button class="add-btn" id="addBtn" title="Adicionar Serviço">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
        
        <!-- Botão Configurações -->
        <button class="settings-btn" id="settingsBtn" title="Configurações">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 490 490" stroke="currentColor" fill="currentColor">
                <path d="M490 305V185h-69.964a184.122 184.122 0 0 0-8.844-21.34l49.475-49.475-84.853-84.853-49.474 49.475A184.365 184.365 0 0 0 305 69.964V0H185v69.964a184.365 184.365 0 0 0-21.34 8.843l-49.475-49.475-84.853 84.853 49.475 49.475A184.189 184.189 0 0 0 69.964 185H0v120h69.964a184.292 184.292 0 0 0 8.843 21.34l-49.475 49.475 84.853 84.853 49.475-49.475a184.189 184.189 0 0 0 21.34 8.843V490h120v-69.964a184.365 184.365 0 0 0 21.34-8.843l49.475 49.475 84.853-84.853-49.475-49.475a184.122 184.122 0 0 0 8.844-21.34H490zm-71.759 70.815-42.427 42.426-44.187-44.186-9.944 5.673a154.083 154.083 0 0 1-35.646 14.772L275 397.523V460h-60v-62.477l-11.039-3.022a154.155 154.155 0 0 1-35.646-14.772l-9.944-5.673-44.186 44.186-42.426-42.426 44.186-44.186-5.673-9.944A154.083 154.083 0 0 1 95.5 286.04L92.478 275H30v-60h62.478l3.022-11.039a154.126 154.126 0 0 1 14.771-35.645l5.674-9.944-44.187-44.187 42.426-42.426 44.187 44.187 9.944-5.674a154.083 154.083 0 0 1 35.645-14.771L215 92.478V30h60v62.478l11.039 3.022a154.152 154.152 0 0 1 35.645 14.771l9.944 5.674 44.187-44.187 42.427 42.426-44.187 44.187 5.674 9.944a154.134 154.134 0 0 1 14.772 35.646L397.523 215H460v60h-62.477l-3.022 11.038a154.214 154.214 0 0 1-14.772 35.646l-5.674 9.944 44.186 44.187z"/>
                <path d="M245 150c-52.383 0-95 42.617-95 95s42.617 95 95 95 95-42.617 95-95-42.617-95-95-95zm0 160c-35.841 0-65-29.159-65-65s29.159-65 65-65 65 29.159 65 65-29.159 65-65 65z"/>
            </svg>
        </button>
    </aside>
    
    <!-- Painel Principal -->
    <main class="main-panel" id="mainPanel">
        <div class="welcome-screen">
            <h1>Bem-vindo ao Feather Alloy</h1>
            <p>Selecione um serviço na barra lateral ou adicione um novo clicando no botão "+"</p>
        </div>
    </main>
    
    <!-- Modal Adicionar Serviço -->
    <div class="modal" id="addServiceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Adicionar Novo Serviço</h2>
                <button class="close-btn" id="closeModalBtn">&times;</button>
            </div>
            <form id="addServiceForm">
                <div class="form-group">
                    <label for="serviceName">Nome do Serviço</label>
                    <input type="text" id="serviceName" name="serviceName" placeholder="Ex: WhatsApp Pessoal" required>
                </div>
                
                <div class="form-group">
                    <label for="serviceUrl">URL do Serviço</label>
                    <input type="url" id="serviceUrl" name="serviceUrl" placeholder="https://web.whatsapp.com" required>
                </div>
                
                <div class="form-group">
                    <label for="userAgent">User-Agent (Opcional)</label>
                    <input type="text" id="userAgent" name="userAgent" placeholder="Deixe vazio para usar o padrão">
                </div>
                
                <div class="form-group">
                    <label for="iconPath">Caminho do Ícone (Opcional)</label>
                    <input type="text" id="iconPath" name="iconPath" placeholder="Ex: /path/to/icon.png">
                </div>
                
                <div class="form-actions">
                    <button type="button" class="btn-secondary" id="cancelBtn">Cancelar</button>
                    <button type="submit" class="btn-primary">Adicionar</button>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Menu de Contexto -->
    <div class="context-menu" id="contextMenu">
        <button class="context-menu-item" id="editProfileBtn">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"></path>
                <path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"></path>
            </svg>
            Editar Perfil
        </button>
    </div>
    
    <script src="script.js"></script>
</body>
</html>
